"use strict";(self.webpackChunksticky_notes=self.webpackChunksticky_notes||[]).push([[562],{"./src/common/contexts/delete.context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>DeleteContextProvider,l:()=>DeleteContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,DeleteContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({callback:function callback(){},setCallback:function(callback){}}),DeleteContextProvider=function DeleteContextProvider(_ref){var children=_ref.children,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){})),callback=_useState[0],setCallback=_useState[1];return __jsx(DeleteContext.Provider,{value:{callback,setCallback}},children)};DeleteContextProvider.displayName="DeleteContextProvider";try{DeleteContextProvider.displayName="DeleteContextProvider",DeleteContextProvider.__docgenInfo={description:"",displayName:"DeleteContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/common/contexts/delete.context.tsx#DeleteContextProvider"]={docgenInfo:DeleteContextProvider.__docgenInfo,name:"DeleteContextProvider",path:"src/common/contexts/delete.context.tsx#DeleteContextProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/common/utils/default-props.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>setDefaultProps});var setDefaultProps=function setDefaultProps(fn,defaultProps){var component=fn;return component.defaultProps=defaultProps,component}},"./src/components/HomeScreen/components/StickyNote/components/StickyHeader/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>StickyHeader});var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),luxon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/luxon/src/luxon.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/common/utils/default-props.utils.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,StickyHeader=function StickyHeader(_ref){var isExpanded=_ref.isExpanded,color=_ref.color,zIndex=_ref.zIndex,date=_ref.date,onColorChange=_ref.onColorChange,onZIndexChange=_ref.onZIndexChange,defaults=_ref.defaults,controlRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null==defaults?void 0:defaults.focused),focused=_useState[0],setFocused=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var onWindowClick=function onWindowClick(e){var elem=e.target;elem.closest(".sticky-header-control")||elem.closest(".sticky-header-button")||setFocused(!1)};window.addEventListener("click",onWindowClick);var onEscapePressed=function onEscapePressed(e){"Escape"===e.key&&setFocused(!1)};return window.addEventListener("keyup",onEscapePressed),function(){window.removeEventListener("click",onWindowClick),window.removeEventListener("keyup",onEscapePressed)}}),[]),isExpanded?__jsx("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("bg-".concat(color)," px-2 py-2 block w-full relative overflow-visible sticky-header")},__jsx("div",{className:"inline-block w-1/2 text-xs"},__jsx("span",{className:"relative bottom-1"},date?luxon__WEBPACK_IMPORTED_MODULE_2__.ou.fromJSDate(new Date(date)).toRelative():null)),__jsx("div",{className:"inline-block w-1/2 text-right"},__jsx("button",{className:"text-2xl text-gray-200 inline-block focus:outline px-4 relative sticky-header-button",onClick:function onClick(){return setFocused(!0)}},__jsx("span",{className:"relative bottom-2"},"...")),focused?__jsx("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("border-".concat(color),"absolute bg-gray-300 w-64 h-32 inline-block right-0 top-0 sticky-header-control border-2"),style:{top:"48px"},ref:controlRef},__jsx("div",{className:"block w-full py-2"},__jsx("div",{className:"inline-block w-1/4 p-2"},__jsx("button",{className:"bg-blue p-2 w-8 h-8 border-transparent hover:border-gray-200 border-2",onClick:function onClick(){return onColorChange("blue")}}," ")),__jsx("div",{className:"inline-block w-1/4 p-2"},__jsx("button",{className:"bg-yellow p-2 w-8 h-8 border-transparent hover:border-gray-200 border-2",onClick:function onClick(){return onColorChange("yellow")}}," ")),__jsx("div",{className:"inline-block w-1/4 p-2"},__jsx("button",{className:"bg-lime p-2 w-8 h-8 border-transparent hover:border-gray-200 border-2",onClick:function onClick(){return onColorChange("lime")}}," ")),__jsx("div",{className:"inline-block w-1/4 p-2"},__jsx("button",{className:"bg-green p-2 w-8 h-8 border-transparent hover:border-gray-200 border-2",onClick:function onClick(){return onColorChange("green")}}," "))),__jsx("div",{className:"text-white py-2"},__jsx("div",{className:"block text-center text-xs"},"z-position"),__jsx("div",{className:"block w-full"},__jsx("div",{className:"inline-block w-1/3 text-right"},__jsx("button",{onClick:function onClick(){return onZIndexChange(zIndex-1)}},"⬅️")),__jsx("div",{className:"inline-block w-1/3 text-center text-lg"},zIndex),__jsx("div",{className:"inline-block w-1/3 text-left"},__jsx("button",{onClick:function onClick(){return onZIndexChange(zIndex+1)}},"➡️"))))):null)):__jsx("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("bg-".concat(color)," p-2 block w-full")})};(0,_common__WEBPACK_IMPORTED_MODULE_3__.h)(StickyHeader,{color:"blue",zIndex:1,defaults:{focused:!1}}),StickyHeader.__docgenInfo={description:"",methods:[],displayName:"StickyHeader",props:{isExpanded:{required:!1,tsType:{name:"boolean"},description:""},color:{required:!1,tsType:{name:"NoteColor"},description:""},zIndex:{required:!1,tsType:{name:"number"},description:""},date:{required:!1,tsType:{name:"union",raw:"string | number | Date",elements:[{name:"string"},{name:"number"},{name:"Date"}]},description:""},onColorChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: NoteColor) => any",signature:{arguments:[{name:"color",type:{name:"NoteColor"}}],return:{name:"any"}}},description:""},onZIndexChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: number) => any",signature:{arguments:[{name:"color",type:{name:"number"}}],return:{name:"any"}}},description:""},defaults:{required:!1,tsType:{name:"signature",type:"object",raw:"{ focused: boolean }",signature:{properties:[{key:"focused",value:{name:"boolean",required:!0}}]}},description:""}}};try{StickyHeader.displayName="StickyHeader",StickyHeader.__docgenInfo={description:"",displayName:"StickyHeader",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"blue"'},{value:'"lime"'},{value:'"yellow"'},{value:'"green"'}]}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"number"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"string | number | Date"}},onColorChange:{defaultValue:null,description:"",name:"onColorChange",required:!0,type:{name:"(color: NoteColor) => any"}},onZIndexChange:{defaultValue:null,description:"",name:"onZIndexChange",required:!0,type:{name:"(color: number) => any"}},defaults:{defaultValue:null,description:"",name:"defaults",required:!1,type:{name:"{ focused: boolean; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HomeScreen/components/StickyNote/components/StickyHeader/index.tsx#StickyHeader"]={docgenInfo:StickyHeader.__docgenInfo,name:"StickyHeader",path:"src/components/HomeScreen/components/StickyNote/components/StickyHeader/index.tsx#StickyHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/HomeScreen/components/StickyNote/components/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>_StickyHeader__WEBPACK_IMPORTED_MODULE_0__.M});var _StickyHeader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/HomeScreen/components/StickyNote/components/StickyHeader/index.tsx");try{StickyHeader.displayName="StickyHeader",StickyHeader.__docgenInfo={description:"",displayName:"StickyHeader",props:{isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"blue"'},{value:'"lime"'},{value:'"yellow"'},{value:'"green"'}]}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"number"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"string | number | Date"}},onColorChange:{defaultValue:null,description:"",name:"onColorChange",required:!0,type:{name:"(color: NoteColor) => any"}},onZIndexChange:{defaultValue:null,description:"",name:"onZIndexChange",required:!0,type:{name:"(color: number) => any"}},defaults:{defaultValue:null,description:"",name:"defaults",required:!1,type:{name:"{ focused: boolean; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HomeScreen/components/StickyNote/components/index.tsx#StickyHeader"]={docgenInfo:StickyHeader.__docgenInfo,name:"StickyHeader",path:"src/components/HomeScreen/components/StickyNote/components/index.tsx#StickyHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/HomeScreen/components/StickyNote/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P2:()=>StickyNote,bR:()=>DEFAULT_NOTE_WIDTH,sw:()=>DEFAULT_NOTE_HEIGHT});var _home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/HomeScreen/components/StickyNote/components/index.tsx"),_excluded=["note","className","onPositionChange","onResize","onChange","Header"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,DEFAULT_NOTE_WIDTH=192,DEFAULT_NOTE_HEIGHT=160,StickyNote=function StickyNote(_ref){var _note$size,_note$size2,note=_ref.note,className=_ref.className,onPositionChange=_ref.onPositionChange,onResize=_ref.onResize,onChange=_ref.onChange,Header=_ref.Header,props=(0,_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_ref,_excluded),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(note.position||{top:0,left:0}),pos=_useState[0],setPos=_useState[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){onPositionChange(pos)}),[pos]);var $width=(null===(_note$size=note.size)||void 0===_note$size?void 0:_note$size.width)||DEFAULT_NOTE_WIDTH,$height=(null===(_note$size2=note.size)||void 0===_note$size2?void 0:_note$size2.height)||DEFAULT_NOTE_HEIGHT,textareaRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _textareaRef$current;null===(_textareaRef$current=textareaRef.current)||void 0===_textareaRef$current||_textareaRef$current.focus()}),[]),__jsx("div",(0,_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},props,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(className,"bg-gray-100 inline-block p-0"),style:{top:pos.top,left:pos.left,zIndex:note.zIndex},onDragEnd:function onDragEnd(e){setPos({top:e.clientY-32,left:e.clientX-Math.floor($width/2-16)})},draggable:!0}),Header?__jsx(Header,null):null,__jsx("textarea",{ref:textareaRef,className:"bg-gray-100 text-white text-lg p-4",style:{resize:"both",width:$width,height:$height-32},defaultValue:note.text,onBlur:function onBlur(e){return onChange(e.target.value)},onMouseUp:function onMouseUp(e){var element=e.target;onResize({width:element.offsetWidth,height:element.offsetHeight+32})}}))};StickyNote.displayName="StickyNote",StickyNote.defaultProps={note:{text:"",width:DEFAULT_NOTE_WIDTH,height:DEFAULT_NOTE_HEIGHT,zIndex:1,position:{top:0,left:0},color:"yellow",size:{width:DEFAULT_NOTE_WIDTH,height:DEFAULT_NOTE_HEIGHT}},Header:function Header(){return __jsx(_components__WEBPACK_IMPORTED_MODULE_2__.M,{onColorChange:function onColorChange(){},onZIndexChange:function onZIndexChange(){}})},onPositionChange:function onPositionChange(){}},StickyNote.__docgenInfo={description:"",methods:[],displayName:"StickyNote",props:{note:{defaultValue:{value:'{\n  text: "",\n  width: DEFAULT_NOTE_WIDTH,\n  height: DEFAULT_NOTE_HEIGHT,\n  zIndex: 1,\n  position: { top: 0, left: 0 },\n  color: "yellow",\n  size: { width: DEFAULT_NOTE_WIDTH, height: DEFAULT_NOTE_HEIGHT }\n}',computed:!1},required:!1,tsType:{name:"intersection",raw:"NotePreview & { text: string }",elements:[{name:"NotePreview"},{name:"signature",type:"object",raw:"{ text: string }",signature:{properties:[{key:"text",value:{name:"string",required:!0}}]}}]},description:""},Header:{defaultValue:{value:"() => <StickyHeader onColorChange={() => { }} onZIndexChange={() => { }} />",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"() => JSX.Element",signature:{arguments:[],return:{name:"JSX.Element"}}},description:""},onPositionChange:{defaultValue:{value:"() => { }",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(position: NotePosition) => any",signature:{arguments:[{name:"position",type:{name:"NotePosition"}}],return:{name:"any"}}},description:""},className:{required:!1,tsType:{name:"any"},description:""},onResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: NoteSize) => any",signature:{arguments:[{name:"size",type:{name:"NoteSize"}}],return:{name:"any"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string) => any",signature:{arguments:[{name:"text",type:{name:"string"}}],return:{name:"any"}}},description:""}}};try{StickyNote.displayName="StickyNote",StickyNote.__docgenInfo={description:"",displayName:"StickyNote",props:{note:{defaultValue:null,description:"",name:"note",required:!0,type:{name:"NotePreview & { text: string; }"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},onPositionChange:{defaultValue:null,description:"",name:"onPositionChange",required:!1,type:{name:"((position: NotePosition) => any)"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"((size: NoteSize) => any)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((text: string) => any)"}},Header:{defaultValue:null,description:"",name:"Header",required:!1,type:{name:"(() => Element)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HomeScreen/components/StickyNote/index.tsx#StickyNote"]={docgenInfo:StickyNote.__docgenInfo,name:"StickyNote",path:"src/components/HomeScreen/components/StickyNote/index.tsx#StickyNote"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/HomeScreen/components/StickyRegion/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>StickyRegion});var _home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames_dedupe__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/dedupe.js"),classnames_dedupe__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames_dedupe__WEBPACK_IMPORTED_MODULE_1__),_common_contexts_delete_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/common/contexts/delete.context.tsx"),_excluded=["children","className","onDoubleClick"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,StickyRegion=function StickyRegion(_ref){var children=_ref.children,className=_ref.className,_onDoubleClick=_ref.onDoubleClick,props=(0,_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_ref,_excluded),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),dragOver=_useState[0],setDragOver=_useState[1],callback=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_common_contexts_delete_context__WEBPACK_IMPORTED_MODULE_2__.l).callback;return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("div",{className:classnames_dedupe__WEBPACK_IMPORTED_MODULE_1___default()("delete-region h-16 bg-red block w-full text-center text-2xl py-4 text-white fixed top-0 left-0 z-10 opacity-0",{"opacity-50":dragOver}),onDragOver:function onDragOver(e){setDragOver(!0),e.preventDefault()},onDragLeave:function onDragLeave(){setDragOver(!1)},onDrop:function onDrop(){"function"==typeof callback&&callback(),setDragOver(!1)}},"Drop Note to Delete"),__jsx("div",(0,_home_runner_work_andela_tempo_sticky_notes_andela_tempo_sticky_notes_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},props,{className:classnames_dedupe__WEBPACK_IMPORTED_MODULE_1___default()(className,"bg-gray-200 block sticky-region cursor-pointer"),onDoubleClick:function onDoubleClick(e){_onDoubleClick({x:e.clientX,y:e.clientY})}}),children))};StickyRegion.__docgenInfo={description:"",methods:[],displayName:"StickyRegion",props:{children:{required:!1,tsType:{name:"any"},description:""},className:{required:!1,tsType:{name:"any"},description:""},onDoubleClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(pos: { x: number; y: number }) => any",signature:{arguments:[{name:"pos",type:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}}}],return:{name:"any"}}},description:""}}};try{StickyRegion.displayName="StickyRegion",StickyRegion.__docgenInfo={description:"",displayName:"StickyRegion",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"any"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!0,type:{name:"(pos: { x: number; y: number; }) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HomeScreen/components/StickyRegion/index.tsx#StickyRegion"]={docgenInfo:StickyRegion.__docgenInfo,name:"StickyRegion",path:"src/components/HomeScreen/components/StickyRegion/index.tsx#StickyRegion"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/HomeScreen/HomeScreen.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,WithNotes:()=>WithNotes,default:()=>HomeScreen_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),delete_context=__webpack_require__("./src/common/contexts/delete.context.tsx"),tiny_invariant=__webpack_require__("./node_modules/tiny-invariant/dist/esm/tiny-invariant.js");var useCacheInvalidation=function useCacheInvalidation(queryKey){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,queryClient=(0,es.useQueryClient)();return{updateCache:function updateCache(){var transformCachedValue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(value){return function assert(condition,message){return(0,tiny_invariant.Z)(condition,"string"==typeof message?"AssertError: ".concat(message):message||"AssertError: condition must be truthy"),condition}(value)};return queryClient.setQueryData(queryKey,(function(cachedValue){return function sleep(){var ms=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(resolve){return setTimeout(resolve,ms)}))}(timeout).then((function(){return queryClient.refetchQueries(queryKey,{active:!0})})),transformCachedValue(cachedValue)}))}}},StickyNote=__webpack_require__("./src/components/HomeScreen/components/StickyNote/index.tsx"),StickyRegion=__webpack_require__("./src/components/HomeScreen/components/StickyRegion/index.tsx"),components=__webpack_require__("./src/components/HomeScreen/components/StickyNote/components/index.tsx"),default_props_utils=__webpack_require__("./src/common/utils/default-props.utils.ts"),__jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var _saveNotes,_getNotes,HomeScreen=function HomeScreen(_ref){var _preview$position,_preview$position2,getNotes=_ref.getNotes,saveNotes=_ref.saveNotes,_useState=(0,react.useState)(null),preview=_useState[0],setPreview=_useState[1],_useQuery$data=(0,es.useQuery)(["notes"],getNotes).data,notes=void 0===_useQuery$data?[]:_useQuery$data,updateCache=useCacheInvalidation(["notes"],100).updateCache,setCallback=(0,react.useContext)(delete_context.l).setCallback,editNote=function editNote(note){var newNotes=notes.map((function(n){return n.id===note.id?_objectSpread(_objectSpread({},n),note):n}));saveNotes(newNotes),updateCache((function(){return newNotes}))};return __jsx(StickyRegion.X,{className:"relative",onDoubleClick:function onDoubleClick(e){var previewDefaults={color:"blue",zIndex:1,position:{top:e.y-Math.floor(StickyNote.sw/4),left:e.x-Math.floor(StickyNote.bR/2)},size:{width:StickyNote.bR,height:StickyNote.sw}};setPreview(_objectSpread(_objectSpread({},preview||previewDefaults),previewDefaults))}},__jsx(react.Fragment,null,preview?__jsx(StickyNote.P2,{note:_objectSpread(_objectSpread({},preview),{},{text:"",size:{width:StickyNote.bR,height:StickyNote.sw}}),onChange:function onChange(text){return function addNote(text){if(text&&preview){var newNotes=[].concat((0,toConsumableArray.Z)(notes),[{id:(0,v4.Z)(),text,date:new Date,color:preview.color,position:preview.position,size:preview.size,zIndex:1}]);saveNotes(newNotes),setPreview(null),updateCache((function(){return newNotes}))}}(text)},Header:function Header(){return __jsx(components.M,{color:preview.color,zIndex:preview.zIndex,onColorChange:function onColorChange(color){return setPreview(_objectSpread(_objectSpread({},preview||{}),{},{color}))},onZIndexChange:function onZIndexChange(zIndex){return setPreview(_objectSpread(_objectSpread({},preview||{}),{},{zIndex}))},isExpanded:!0})},onPositionChange:function onPositionChange(position){return setPreview(_objectSpread(_objectSpread({},preview||{}),{},{position}))},onResize:function onResize(size){return setPreview(_objectSpread(_objectSpread({},preview),{},{size}))},className:"absolute",key:"preview-".concat(null==preview||null===(_preview$position=preview.position)||void 0===_preview$position?void 0:_preview$position.left,"-").concat(null==preview||null===(_preview$position2=preview.position)||void 0===_preview$position2?void 0:_preview$position2.top),onDragStart:function onDragStart(){setCallback((function(){return function(){setPreview(null)}}))}}):null),notes.map((function(note){return __jsx(StickyNote.P2,{key:note.id,className:"absolute",note,Header:function Header(){return __jsx(components.M,{color:note.color,zIndex:note.zIndex,date:note.date,onColorChange:function onColorChange(color){return editNote(_objectSpread(_objectSpread({},note),{},{color}))},onZIndexChange:function onZIndexChange(zIndex){return editNote(_objectSpread(_objectSpread({},note),{},{zIndex}))},isExpanded:!0})},onPositionChange:function onPositionChange(position){return editNote(_objectSpread(_objectSpread({},note),{},{position}))},onResize:function onResize(size){return editNote(_objectSpread(_objectSpread({},note),{},{size}))},onChange:function onChange(text){return editNote(_objectSpread(_objectSpread({},note),{},{text}))},onDragStart:function onDragStart(){setCallback((function(){return function(){confirm("Are you sure you want to delete this note?")&&function deleteNote(note){var newNotes=notes.filter((function(n){return n.id!==note.id}));saveNotes(newNotes),updateCache((function(){return newNotes}))}(note)}}))}})})))};HomeScreen.displayName="HomeScreen",(0,default_props_utils.h)(HomeScreen,{getNotes:(_getNotes=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",JSON.parse(localStorage.getItem("notes")||"[]"));case 1:case"end":return _context.stop()}}),_callee)}))),function getNotes(){return _getNotes.apply(this,arguments)}),saveNotes:(_saveNotes=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(notes){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",localStorage.setItem("notes",JSON.stringify(notes)));case 1:case"end":return _context2.stop()}}),_callee2)}))),function saveNotes(_x){return _saveNotes.apply(this,arguments)})}),HomeScreen.__docgenInfo={description:"",methods:[],displayName:"HomeScreen",props:{getNotes:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<Note[]>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"Array",elements:[{name:"Note"}],raw:"Note[]"}],raw:"Promise<Note[]>"}}},description:""},saveNotes:{required:!1,tsType:{name:"signature",type:"function",raw:"(notes: Note[]) => Promise<any>",signature:{arguments:[{name:"notes",type:{name:"Array",elements:[{name:"Note"}],raw:"Note[]"}}],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:""}}};try{HomeScreen.displayName="HomeScreen",HomeScreen.__docgenInfo={description:"",displayName:"HomeScreen",props:{getNotes:{defaultValue:null,description:"",name:"getNotes",required:!1,type:{name:"(() => Promise<Note[]>)"}},saveNotes:{defaultValue:null,description:"",name:"saveNotes",required:!1,type:{name:"((notes: Note[]) => Promise<any>)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HomeScreen/index.tsx#HomeScreen"]={docgenInfo:HomeScreen.__docgenInfo,name:"HomeScreen",path:"src/components/HomeScreen/index.tsx#HomeScreen"})}catch(__react_docgen_typescript_loader_error){}var HomeScreen_stories_jsx=react.createElement;const HomeScreen_stories={title:"components/HomeScreen",component:HomeScreen};var queryClient=new es.QueryClient,Empty=function Empty(){var _useState=(0,react.useState)([]),notes=_useState[0],setNotes=_useState[1];return HomeScreen_stories_jsx(es.QueryClientProvider,{client:queryClient},HomeScreen_stories_jsx(delete_context.W,null,HomeScreen_stories_jsx(HomeScreen,{getNotes:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",notes);case 1:case"end":return _context.stop()}}),_callee)}))),saveNotes:function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(notes){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",setNotes(notes));case 1:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}()})))};Empty.displayName="Empty";var WithNotes=function WithNotes(){var _useState2=(0,react.useState)([{id:"1",text:"Hello",position:{top:100,left:100},color:"blue",date:luxon.ou.now().minus({minutes:1}).toJSDate(),size:{width:200,height:200},zIndex:1},{id:"2",text:"World",position:{top:100,left:352},color:"yellow",date:luxon.ou.now().minus({minutes:5}).toJSDate(),size:{width:200,height:200},zIndex:1},{id:"3",text:"Yes!",position:{top:100,left:604},color:"lime",date:luxon.ou.now().minus({minutes:75}).toJSDate(),size:{width:200,height:200},zIndex:1},{id:"4",text:"No!",position:{top:100,left:856},color:"green",date:luxon.ou.now().minus({minutes:120}).toJSDate(),size:{width:200,height:200},zIndex:1}]),notes=_useState2[0],setNotes=_useState2[1];return HomeScreen_stories_jsx(es.QueryClientProvider,{client:queryClient},HomeScreen_stories_jsx(delete_context.W,null,HomeScreen_stories_jsx(HomeScreen,{getNotes:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",notes);case 1:case"end":return _context3.stop()}}),_callee3)}))),saveNotes:function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(notes){return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",setNotes(notes));case 1:case"end":return _context4.stop()}}),_callee4)})));return function(_x2){return _ref4.apply(this,arguments)}}()})))};WithNotes.displayName="WithNotes",Empty.__docgenInfo={description:"",methods:[],displayName:"Empty"},WithNotes.__docgenInfo={description:"",methods:[],displayName:"WithNotes"},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:'function Empty() {\n  var _useState = useState([]),\n    notes = _useState[0],\n    setNotes = _useState[1];\n  return __jsx(QueryClientProvider, {\n    client: queryClient\n  }, __jsx(DeleteContextProvider, null, __jsx(HomeScreen, {\n    getNotes: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt("return", notes);\n          case 1:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    })),\n    saveNotes: /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(notes) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt("return", setNotes(notes));\n            case 1:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  })));\n}',...Empty.parameters?.docs?.source}}},WithNotes.parameters={...WithNotes.parameters,docs:{...WithNotes.parameters?.docs,source:{originalSource:'function WithNotes() {\n  var _useState2 = useState([{\n      id: "1",\n      text: "Hello",\n      position: {\n        top: 100,\n        left: 100\n      },\n      color: "blue",\n      date: DateTime.now().minus({\n        minutes: 1\n      }).toJSDate(),\n      size: {\n        width: 200,\n        height: 200\n      },\n      zIndex: 1\n    }, {\n      id: "2",\n      text: "World",\n      position: {\n        top: 100,\n        left: 352\n      },\n      color: "yellow",\n      date: DateTime.now().minus({\n        minutes: 5\n      }).toJSDate(),\n      size: {\n        width: 200,\n        height: 200\n      },\n      zIndex: 1\n    }, {\n      id: "3",\n      text: "Yes!",\n      position: {\n        top: 100,\n        left: 604\n      },\n      color: "lime",\n      date: DateTime.now().minus({\n        minutes: 75\n      }).toJSDate(),\n      size: {\n        width: 200,\n        height: 200\n      },\n      zIndex: 1\n    }, {\n      id: "4",\n      text: "No!",\n      position: {\n        top: 100,\n        left: 856\n      },\n      color: "green",\n      date: DateTime.now().minus({\n        minutes: 120\n      }).toJSDate(),\n      size: {\n        width: 200,\n        height: 200\n      },\n      zIndex: 1\n    }]),\n    notes = _useState2[0],\n    setNotes = _useState2[1];\n  return __jsx(QueryClientProvider, {\n    client: queryClient\n  }, __jsx(DeleteContextProvider, null, __jsx(HomeScreen, {\n    getNotes: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt("return", notes);\n          case 1:\n          case "end":\n            return _context3.stop();\n        }\n      }, _callee3);\n    })),\n    saveNotes: /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(notes) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt("return", setNotes(notes));\n            case 1:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  })));\n}',...WithNotes.parameters?.docs?.source}}}}}]);